<!DOCTYPE html>
<html lang="en"><head>
<link href="..//images/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.191">

  <meta name="author" content="Cédric Scherer // posit::conf // September 2023">
  <title>Engaging and Beautiful Data Visualizations with ggplot2</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #000000; background-color: #ffffff; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #000000; } /* Normal */
    code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
    code span.an { color: #ca60ca; } /* Annotation */
    code span.at { color: #0057ae; } /* Attribute */
    code span.bn { color: #b08000; } /* BaseN */
    code span.bu { color: #644a9b; } /* BuiltIn */
    code span.cf { color: #000000; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #924c9d; } /* Char */
    code span.cn { color: #aa5500; } /* Constant */
    code span.co { color: #898887; } /* Comment */
    code span.cv { color: #0095ff; } /* CommentVar */
    code span.do { color: #607880; } /* Documentation */
    code span.dt { color: #0057ae; } /* DataType */
    code span.dv { color: #b08000; } /* DecVal */
    code span.er { color: #bf0303; text-decoration: underline; } /* Error */
    code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
    code span.fl { color: #b08000; } /* Float */
    code span.fu { color: #644a9b; } /* Function */
    code span.im { color: #644a9b; } /* Import */
    code span.in { color: #b08000; } /* Information */
    code span.kw { color: #000000; font-weight: bold; } /* Keyword */
    code span.op { color: #000000; } /* Operator */
    code span.ot { color: #006e28; } /* Other */
    code span.pp { color: #006e28; } /* Preprocessor */
    code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
    code span.sc { color: #ff5500; } /* SpecialChar */
    code span.ss { color: #ff5500; } /* SpecialString */
    code span.st { color: #bf0303; } /* String */
    code span.va { color: #0057ae; } /* Variable */
    code span.vs { color: #bf0303; } /* VerbatimString */
    code span.wa { color: #bf0303; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<meta property="og:title" content="Engaging and Beautiful Data Visualizations with ggplot2">
<meta property="og:description" content="Fundamentals &amp; Workflows">
<meta name="twitter:title" content="Engaging and Beautiful Data Visualizations with ggplot2">
<meta name="twitter:description" content="Fundamentals &amp; Workflows">
<meta name="twitter:image" content="https://posit-conf-2023.github.io/dataviz-ggplot2//images/twitter-card.png">
<meta name="twitter:creator" content="@CedScherer">
<meta name="twitter:image-height" content="681">
<meta name="twitter:image-width" content="1200">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Engaging and Beautiful Data Visualizations with ggplot2</h1>
  <p class="subtitle"><span style="font-size:1.8em;">Fundamentals &amp; Workflows</span></p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
<a href="https://www.cedricscherer.com" style="color:#28a87d;font-weight:600;">Cédric Scherer</a> // posit::conf // September 2023 
</div>
</div>
</div>

</section>
<section>
<section id="ggplot2" class="title-slide slide level1 center">
<h1>{ggplot2}</h1>

</section>
<section id="section" class="slide level2">
<h2></h2>
<div class="footer">
<p><a href="https://ggplot2.tidyverse.org/">{ggplot2} package description</a></p>
</div>

<img data-src="img/intro/ggplot2.png" alt="The ggplot2 hex logo." class="r-stretch quarto-figure-center"><p><br></p>
<p><b style="font-size:30pt;"><code>{ggplot2}</code> is a system for declaratively creating graphics,<br>based on “The Grammar of Graphics” (Wilkinson 2005).</b></p>
<div class="fragment">
<p><span style="font-size:24pt;">You provide the data, tell <code>{ggplot2}</code> how to</span> <span class="circle-highlight">map variables to aesthetics,</span><br>what graphical primitives to use, and it takes care of the details.</p>
</div>
</section>
<section id="advantages-of-ggplot2" class="slide level2">
<h2>Advantages of {ggplot2}</h2>
<div>
<ul>
<li class="fragment">consistent underlying “grammar of graphics” (Wilkinson 2005)<br>
</li>
<li class="fragment">very flexible, layered plot specification<br>
</li>
<li class="fragment">theme system for polishing plot appearance<br>
</li>
<li class="fragment">lots of additional functionality thanks to extensions<br>
</li>
<li class="fragment">active and helpful community</li>
</ul>
</div>
</section>
<section id="the-components-of-a-ggplot" class="slide level2">
<h2>The Components of a ggplot</h2>
<br>

<table style="width:100%;font-size:16pt;">
<tbody><tr>
<th>
Component
</th>
<th>
Function
</th>
<th>
Explanation
</th>
</tr>
<tr>
<td>
<b style="color:#67676;">Data</b>
</td>
<td>
<code>ggplot(data)</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</td>
<td>
<em>The raw data that you want to visualize (initialising a plot).</em>
</td>
</tr>
<tr>
<td>
<b style="color:#67676;">Aesthetics&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
</td>
<td>
<code>aes()</code>
</td>
<td>
<em>The mapping between variables and visual properties.</em>
</td>
</tr><tr>
<td>
<b style="color:#67676;">Geometries</b>
</td>
<td>
<code>geom_*()</code>
</td>
<td>
<em>The geometric shape of a layer representing the data.</em>
</td>
</tr>

</tbody></table>
</section>
<section class="slide level2">


<img data-src="img/basic-ggplots.png" alt="A collection of the versatility of ggplot2 to create basic graphs. All of them use only data, aesthetics, and layers with the defaults of ggplot2." class="r-stretch quarto-figure-center"><p class="caption">ggplot2 examples featured on <a href="https://ggplot2.tidyverse.org/">ggplot2.tidyverse.org</a></p></section>
<section id="the-components-of-a-ggplot-1" class="slide level2">
<h2>The Components of a ggplot</h2>
<br>

<table style="width:100%;font-size:16pt;">
<tbody><tr>
<th>
Component
</th>
<th>
Function
</th>
<th>
Explanation
</th>
</tr>
<tr>
<td>
<b style="color:#67676;">Data</b>
</td>
<td>
<code>ggplot(data)</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</td>
<td>
<em>The raw data that you want to visualize (initializing a plot).</em>
</td>
</tr>
<tr>
<td>
<b style="color:#67676;">Aesthetics&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
</td>
<td>
<code>aes()</code>
</td>
<td>
<em>The mapping between variables and visual properties.</em>
</td>
</tr><tr>
<td>
<b style="color:#67676;">Geometries</b>
</td>
<td>
<code>geom_*()</code>
</td>
<td>
<em>The geometric shape of a layer representing the data.</em>
</td>
</tr>
<tr>
<td>
<b style="color:#67676;">Statistics</b>
</td>
<td>
<code>stat_*()</code>
</td>
<td>
<em>The statistical transformation of a layer applied to the data.</em>
</td>
</tr>
<tr>
<td>
<b style="color:#67676;">Scales</b>
</td>
<td>
<code>scale_*()</code>
</td>
<td>
<em>The representation of mapped aesthetic attributes.</em>
</td>
</tr>
<tr>
<td>
<b style="color:#67676;">Coordinate System</b>
</td>
<td>
<code>coord_*()</code>
</td>
<td>
<em>The transformation to map data coordinates into the plot plane.</em>
</td>
</tr>
<tr>
<td>
<b style="color:#67676;">Facets</b>
</td>
<td>
<code>facet_*()</code>
</td>
<td>
<em>The arrangement of the data into a set of small multiples.</em>
</td>
</tr>
<tr>
<td>
<b style="color:#67676;">Visual Themes</b>
</td>
<td>
<code>theme() | theme_*()</code>
</td>
<td>
<em>The overall visual defaults of non-data elements of the graphic.</em>
</td>
</tr>

</tbody></table>
</section>
<section class="slide level2">


<img data-src="img/ah-ggplot2-exploratory.png" alt="Allison Horsts monster illustration of explorative plotting with ggplot2." class="r-stretch quarto-figure-center"><p class="caption">Illustration by <a href="https://github.com/allisonhorst/stats-illustrations">Allison Horst</a></p></section>
<section class="slide level2">


<img data-src="img/ah-ggplot2-masterpiece.png" alt="Allison Horsts monster illustration of building data masterpiece with ggplot2 featuring a little Picasso monster :)" class="r-stretch quarto-figure-center"><p class="caption">Illustration by <a href="https://github.com/allisonhorst/stats-illustrations">Allison Horst</a></p></section></section>
<section>
<section id="the-ggplot2-showcase" class="title-slide slide level1 center">
<h1>The {ggplot2} Showcase</h1>

</section>
<section class="slide level2">

<p><br></p>

<img data-src="img/showcase/bbc-gallery.png" alt="A multi-plot panel of various data visualizations created by the BBC teams." class="r-stretch quarto-figure-center"><p class="caption">Collection of Graphics from the <a href="https://bbc.github.io/rcookbook/">BBC R Cookbook</a></p></section>
<section class="slide level2">

<p><br></p>

<img data-src="img/showcase/bbc-gallery-quote.png" alt="A multi-plot panel of various data visualizations created by the BBC teams." class="r-stretch quarto-figure-center"><p class="caption">Collection of Graphics from the <a href="https://bbc.github.io/rcookbook/">BBC R Cookbook</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/palmer-penguins.png" alt="Distribution of coffee bean ratings by the Coffee Quality Institute for countries with 25 or more reviews (up to 2018). Distributions are shown as dot plots and multiple interval stripes." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://github.com/Z3tt/TidyTuesday/tree/main/plots/2020_31">“Bill Dimensions of Brush-Tailed Penguins”</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/netflix-originals-tanya-shapiro.jpeg" alt="rea graph of number of Netflix original series over time, annotated with images and labels." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://twitter.com/tanya_shapiro/status/1610419176333627393">“Netflix Content Explosion”</a> by Tanya Shapiro</p></section>
<section class="slide level2">


<img data-src="img/showcase/speech-speed.png" alt="The raincloud chart showing the distributions of normalized speech rates (dark pink) and information rates (dark lime green) across language families." class="r-stretch quarto-figure-center"><p class="caption">My reinterpreted <a href="https://www.economist.com/graphic-detail/2019/09/28/why-are-some-languages-spoken-faster-than-others">The Economist graphic</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/coffee-ratings.png" alt="The raincloud chart showing the distributions of normalized speech rates (dark pink) and information rates (dark lime green) across language families." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://www.behance.net/gallery/100638417/Not-My-Cup-of-Coffee">“Not My Cup of Coffee”</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/20200307_TT_2020_08_CarbonFoodprint_alt.png" alt="Two circular hierarchical bar plots showing the carbon footprint 2018 for food consumption and CO2 per continent and country." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://github.com/Z3tt/TidyTuesday/tree/main/plots/2020_08">“Food Carbon Footprint Index 2018”</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/cran-packages-torsten-sprenger.png" alt="A circular tree showing the programing languages used in CRAN packages, with nodes being grouped by languages and package names, sized by number of lines." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://twitter.com/spren9er/status/1195826547724374018">“Popular Programming Languages in CRAN Packages”</a> by Torsten Sprenger</p></section>
<section class="slide level2">


<img data-src="img/showcase/xmen-comics.png" alt="Streamgraphs showing the appearance of the most common X-Men characters (Wovlerine, Magneto, Nightcrawler, Storm &amp; Gambit) during the so-called Claremont Run. Chris Claremont is a famous American comic book writer who was in charge of the Uncanny X-Men comic book series from 1975–1991. During that time he developed complex literary themes and strong female characters into superhero comics, and turning the X-Men into one of Marvel's most popular series." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://www.behance.net/gallery/100640345/Appearance-of-Popular-X-Men-Characters">“Appearance of X-Men Characters”</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/artists-usa-lee-olney.png" alt="A facet of barcodes showing location quotients from artists in the US by type and race." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://twitter.com/leeolney3/status/1574656040599265280">“Artists in the US”</a> by Lee Olney</p></section>
<section class="slide level2">

<p><br></p>

<img data-src="img/showcase/SWD_2020_01_SmallMultiples_grey.png" alt="A facet of shots and goals of the Bundesliga football clubs in the season 2019/20." class="r-stretch quarto-figure-center"><p class="caption">My Contribution to the <a href="https://www.storytellingwithdata.com/blog/2020/1/6/swdchallenge-small-multiples">SWDchallenge “Small Multiples”</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/jack_davison.png" alt="A gridded map of Europe showing horizontal stacked bars of energy production per country over time (each bar represents share among one year from 2016 to 2018)." class="r-stretch quarto-figure-center"><p class="caption"><a href="github.com/jack-davison/tidytuesday">“European Energy Generation”</a> by Jack Davison</p></section>
<section class="slide level2">


<img data-src="img/showcase/btw21_tile_grid_moon_second_de.png" alt="A grid map using moon charts for all 297 electoral districts which show the share of the wnning party in second votesc during the German election in 2021." class="r-stretch quarto-figure-center"><p class="caption"><a href="https://github.com/z3tt/grid-btw-wahlkreise-constituencies">Moon Charts as a Tile Grid Map</a> showing the 2nd Vote Results from the German Election 2021</p></section>
<section class="slide level2">


<img data-src="img/showcase/20210131_BES_CheetahMap_rcarto.png" alt="A spatial map of cheetah movement and their hotspot behaviour in Namibia." class="r-stretch quarto-figure-center"><p class="caption">Our Winning Contribution to the <a href="https://besmovesig.wordpress.com/2021/02/25/mapping-movements-the-art-and-the-science-we-have-the-winners/">BES MoveMap Contest</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/swiss_map.png" alt="A spatial map of income and inequality shown with a bivariate color palette; alpine regions have a hillshading effect." class="r-stretch quarto-figure-center"><p class="caption"><a href="timogrossenbacher.ch/2019/04/bivariate-maps-with-ggplot2-and-sf">Bivariate Choropleth x Hillshade Map</a> by Timo Gossenbacher</p></section>
<section class="slide level2">


<img data-src="img/showcase/bob-ross-pixel-art-georgios.png" alt="A set of small multiples using pixelated encodings of certain elements in Bob Ross' paintings." class="r-stretch quarto-figure-center"><p class="caption">Pixel Art by <a href="https://karaman.is/">Georgios Karamanis</a></p></section>
<section class="slide level2">


<img data-src="img/showcase/genart.png" alt="Two artworks by Thomas Pedersen, completely generated in R with ggplot2 (and pure magic)." class="r-stretch quarto-figure-center"><p class="caption">Generative Art by <a href="https://www.data-imaginist.com/art">Thomas Lin Pedersen</a></p></section></section>
<section>
<section id="a-walk-through-example" class="title-slide slide level1 center">
<h1>A Walk-Through Example</h1>

</section>
<section id="the-data-set" class="slide level2">
<h2>The Data Set</h2>
<p><b style="font-size:2.3rem;">Bike sharing counts in London, UK, powered by <a href="https://tfl.gov.uk/modes/cycling/santander-cycles">TfL Open Data</a></b></p>
<div>
<ul>
<li class="fragment">covers the years 2015 and 2016</li>
<li class="fragment">incl.&nbsp;weather data acquired from <a href="https://freemeteo.com">freemeteo.com</a></li>
<li class="fragment">prepared by Hristo Mavrodiev for <a href="https://www.kaggle.com/hmavrodiev/london-bike-sharing-dataset">Kaggle</a></li>
<li class="fragment">further modification by myself</li>
</ul>
</div>
</section>
<section id="the-data-set-1" class="slide level2">
<h2>The Data Set</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>bikes <span class="ot">&lt;-</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb1-6"><a href="#cb1-6"></a>    here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"london-bikes.csv"</span>),</span>
<span id="cb1-7"><a href="#cb1-7"></a>    <span class="at">col_types =</span> <span class="st">"Dcfffilllddddc"</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-data-set-2" class="slide level2">
<h2>The Data Set</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/view-data_08b7b3be3eee0339e21d78d3715ee833">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>bikes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource hscroll number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1"><a href="#cb3-1"></a># A tibble: 1,454 × 14</span>
<span id="cb3-2"><a href="#cb3-2"></a>   date       day_night year  month season count is_workday is_weekend is_holiday  temp temp_feel humidity wind_speed weather_type    </span>
<span id="cb3-3"><a href="#cb3-3"></a>   &lt;date&gt;     &lt;chr&gt;     &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;  &lt;int&gt; &lt;lgl&gt;      &lt;lgl&gt;      &lt;lgl&gt;      &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;           </span>
<span id="cb3-4"><a href="#cb3-4"></a> 1 2015-01-04 day       2015  1     3       6830 FALSE      TRUE       FALSE       2.17     -0.75     95.2      10.4  broken clouds   </span>
<span id="cb3-5"><a href="#cb3-5"></a> 2 2015-01-04 night     2015  1     3       2404 FALSE      TRUE       FALSE       2.79      2.04     93.4       4.58 clear           </span>
<span id="cb3-6"><a href="#cb3-6"></a> 3 2015-01-05 day       2015  1     3      14763 TRUE       FALSE      FALSE       8.96      7.71     81.1       8.67 broken clouds   </span>
<span id="cb3-7"><a href="#cb3-7"></a> 4 2015-01-05 night     2015  1     3       5609 TRUE       FALSE      FALSE       7.12      5.71     79.5       9.04 cloudy          </span>
<span id="cb3-8"><a href="#cb3-8"></a> 5 2015-01-06 day       2015  1     3      14501 TRUE       FALSE      FALSE       9         6.46     80.2      19.2  broken clouds   </span>
<span id="cb3-9"><a href="#cb3-9"></a> 6 2015-01-06 night     2015  1     3       6112 TRUE       FALSE      FALSE       6.71      4.21     77.6      12.8  clear           </span>
<span id="cb3-10"><a href="#cb3-10"></a> 7 2015-01-07 day       2015  1     3      16358 TRUE       FALSE      FALSE       8.17      5.08     75.2      21.2  scattered clouds</span>
<span id="cb3-11"><a href="#cb3-11"></a> 8 2015-01-07 night     2015  1     3       4706 TRUE       FALSE      FALSE       6.68      3.86     81.3      18.1  clear           </span>
<span id="cb3-12"><a href="#cb3-12"></a> 9 2015-01-08 day       2015  1     3       9971 TRUE       FALSE      FALSE       9.46      7.12     79.4      18.8  scattered clouds</span>
<span id="cb3-13"><a href="#cb3-13"></a>10 2015-01-08 night     2015  1     3       5630 TRUE       FALSE      FALSE      10.0       8.46     79.2      22.2  clear           </span>
<span id="cb3-14"><a href="#cb3-14"></a># ℹ 1,444 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="the-data-set-3" class="slide level2">
<h2>The Data Set</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/data-table_78b1267b2d8c1d92c639963f8ed64a4f">
<div class="cell-output-display">
<table class="table lightable-minimal lightable-hover" style="font-size: 20px; margin-left: auto; margin-right: auto; font-family: Spline Sans Mono; ">
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Class</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">date</td>
<td style="text-align: left;">Date encoded as `YYYY-MM-DD`</td>
<td style="text-align: left;">date</td>
</tr>
<tr class="even">
<td style="text-align: left;">day_night</td>
<td style="text-align: left;">`day` (6:00am–5:59pm) or `night` (6:00pm–5:59am)</td>
<td style="text-align: left;">character</td>
</tr>
<tr class="odd">
<td style="text-align: left;">year</td>
<td style="text-align: left;">`2015` or `2016`</td>
<td style="text-align: left;">factor</td>
</tr>
<tr class="even">
<td style="text-align: left;">month</td>
<td style="text-align: left;">`1` (January) to `12` (December)</td>
<td style="text-align: left;">factor</td>
</tr>
<tr class="odd">
<td style="text-align: left;">season</td>
<td style="text-align: left;">`0` (spring), `1` (summer), `2` (autumn), or `3` (winter)</td>
<td style="text-align: left;">factor</td>
</tr>
<tr class="even">
<td style="text-align: left;">count</td>
<td style="text-align: left;">Sum of reported bikes rented</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">is_workday</td>
<td style="text-align: left;">`TRUE` being Monday to Friday and no bank holiday</td>
<td style="text-align: left;">logical</td>
</tr>
<tr class="even">
<td style="text-align: left;">is_weekend</td>
<td style="text-align: left;">`TRUE` being Saturday or Sunday</td>
<td style="text-align: left;">logical</td>
</tr>
<tr class="odd">
<td style="text-align: left;">is_holiday</td>
<td style="text-align: left;">`TRUE` being a bank holiday in the UK</td>
<td style="text-align: left;">logical</td>
</tr>
<tr class="even">
<td style="text-align: left;">temp</td>
<td style="text-align: left;">Average air temperature (°C)</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="odd">
<td style="text-align: left;">temp_feel</td>
<td style="text-align: left;">Average feels like temperature (°C)</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="even">
<td style="text-align: left;">humidity</td>
<td style="text-align: left;">Average air humidity (%)</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="odd">
<td style="text-align: left;">wind_speed</td>
<td style="text-align: left;">Average wind speed (km/h)</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="even">
<td style="text-align: left;">weather_type</td>
<td style="text-align: left;">Most common weather type</td>
<td style="text-align: left;">character</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-full-1.png" width="2020" class="r-stretch"></section>
<section id="a-default-ggplot" class="slide level2">
<h2>A Default ggplot</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-0_54e69338bfad3e48c3cfc463ef22e77b">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># scatter plot of plot bikes$count versus bikes$temp_feel</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">ggplot</span>(<span class="at">data =</span> bikes) <span class="sc">+</span>              <span class="co"># initial call + data</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count) <span class="sc">+</span>   <span class="co"># aesthetics</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">geom_point</span>()                      <span class="co"># geometric layer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="a-default-ggplot-1" class="slide level2">
<h2>A Default ggplot</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-1_0e54cdfa411c3d3b234fefff974ba242">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># scatter plot of plot bikes$count versus bikes$temp_feel</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-1-1.png" width="2020" class="r-stretch"></section>
<section id="combine-layers" class="slide level2">
<h2>Combine Layers</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-2_f184aaeaa11b8515b6b82b001609e579">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="3,4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="co"># add a GAM smoothing</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">stat_smooth</span>() <span class="co"># also: geom_smooth()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-2-1.png" width="2020" class="r-stretch"></section>
<section id="mapping-aesthetics" class="slide level2">
<h2>Mapping Aesthetics</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-3_293593d0c1a51009ba5eb8a59f7728ea">
<div class="sourceCode cell-code" id="cb7" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count, <span class="at">color =</span> day_night)) <span class="sc">+</span> </span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">stat_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-3-1.png" width="2020" class="r-stretch"></section>
<section id="mapping-aesthetics-1" class="slide level2">
<h2>Mapping Aesthetics</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-4_bc36b6670c28f6d74336be8eea1dc2f0">
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="2,3|4,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="co"># color mapping only applied to points</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> day_night)) <span class="sc">+</span> </span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="co"># invisible grouping to create two trend lines</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">stat_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> day_night))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-4-1.png" width="2020" class="r-stretch"></section>
<section id="setting-properties" class="slide level2">
<h2>Setting Properties</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-5_34ed96698fc797de07f96bd938e6c867">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="2,4,5|7,9,10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb9-3"><a href="#cb9-3"></a>    <span class="fu">aes</span>(<span class="at">color =</span> day_night), </span>
<span id="cb9-4"><a href="#cb9-4"></a>    <span class="co"># setting larger points with 50% opacity</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">1.5</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  ) <span class="sc">+</span> </span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="fu">stat_smooth</span>(</span>
<span id="cb9-8"><a href="#cb9-8"></a>    <span class="fu">aes</span>(<span class="at">group =</span> day_night), </span>
<span id="cb9-9"><a href="#cb9-9"></a>    <span class="co"># use linear fitting + draw black smoothing lines</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>    <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-5-1.png" width="2020" class="r-stretch"></section>
<section id="split-into-facets" class="slide level2">
<h2>Split into Facets</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-6_e529afc4ea35d449fb64c893507c694f">
<div class="sourceCode cell-code" id="cb10" data-code-line-numbers="9,10|10|6,7,8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="fu">aes</span>(<span class="at">color =</span> day_night), </span>
<span id="cb10-4"><a href="#cb10-4"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">1.5</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  ) <span class="sc">+</span> </span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="fu">stat_smooth</span>(</span>
<span id="cb10-7"><a href="#cb10-7"></a>    <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>  ) <span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="co"># small multiples</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> <span class="fu">vars</span>(day_night)) <span class="co"># also: ~ day_night</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-6-1.png" width="2020" class="r-stretch"></section>
<section id="split-into-facets-1" class="slide level2">
<h2>Split into Facets</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-7_95545d6c6b8eb53f8fb668d6bf3087d3">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="9,10,11,12|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>    <span class="fu">aes</span>(<span class="at">color =</span> season), </span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">1.5</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>  ) <span class="sc">+</span> </span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">stat_smooth</span>(</span>
<span id="cb11-7"><a href="#cb11-7"></a>    <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  ) <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>  <span class="co"># small multiples</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>  <span class="fu">facet_grid</span>(</span>
<span id="cb11-11"><a href="#cb11-11"></a>    <span class="at">rows =</span> <span class="fu">vars</span>(day_night), <span class="at">cols =</span> <span class="fu">vars</span>(year) <span class="co"># also: day_night ~ year</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-7-1.png" width="2020" class="r-stretch"></section>
<section id="free-facets-axes" class="slide level2">
<h2>Free Facets Axes</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-8_fd9eff017a9fba3dbc48953c23b59afb">
<div class="sourceCode cell-code" id="cb12" data-code-line-numbers="11,12|13,14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>    <span class="fu">aes</span>(<span class="at">color =</span> season), </span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">1.5</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  ) <span class="sc">+</span> </span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="fu">stat_smooth</span>(</span>
<span id="cb12-7"><a href="#cb12-7"></a>    <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  ) <span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="fu">facet_grid</span>(</span>
<span id="cb12-10"><a href="#cb12-10"></a>    day_night <span class="sc">~</span> year, </span>
<span id="cb12-11"><a href="#cb12-11"></a>    <span class="co"># free y axis range</span></span>
<span id="cb12-12"><a href="#cb12-12"></a>    <span class="at">scales =</span> <span class="st">"free_y"</span>, </span>
<span id="cb12-13"><a href="#cb12-13"></a>    <span class="co"># scale heights proportionally</span></span>
<span id="cb12-14"><a href="#cb12-14"></a>    <span class="at">space =</span> <span class="st">"free_y"</span></span>
<span id="cb12-15"><a href="#cb12-15"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-8-1.png" width="2020" class="r-stretch"></section>
<section id="store-ggplot" class="slide level2">
<h2>Store ggplot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>g1 <span class="ot">&lt;-</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb13-4"><a href="#cb13-4"></a>    <span class="fu">aes</span>(<span class="at">color =</span> season), </span>
<span id="cb13-5"><a href="#cb13-5"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">1.5</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  ) <span class="sc">+</span> </span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="fu">stat_smooth</span>(</span>
<span id="cb13-8"><a href="#cb13-8"></a>    <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>  ) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>  <span class="fu">facet_grid</span>(</span>
<span id="cb13-11"><a href="#cb13-11"></a>    day_night <span class="sc">~</span> year, </span>
<span id="cb13-12"><a href="#cb13-12"></a>    <span class="at">scales =</span> <span class="st">"free_y"</span>, </span>
<span id="cb13-13"><a href="#cb13-13"></a>    <span class="at">space =</span> <span class="st">"free_y"</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="change-the-axis-scaling" class="slide level2">
<h2>Change the Axis Scaling</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-9a_71ca58800723ac3067ba987f2a91ea75">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="1|2,3,8|4,5|6,7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>g1 <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="co"># x axis</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="co"># add °C symbol</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x, <span class="st">"°C"</span>), </span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="co"># use 5°C spacing</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span><span class="sc">*</span><span class="dv">5</span>  <span class="co"># also: seq(-5, 30, by = 5)</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-9a-1.png" width="2020" class="r-stretch"></section>
<section id="change-the-axis-scaling-1" class="slide level2">
<h2>Change the Axis Scaling</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="9,10,15|11,12|13,14|1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>g2 <span class="ot">&lt;-</span> g1 <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="co"># x axis</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb15-4"><a href="#cb15-4"></a>    <span class="co"># add °C symbol</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>    <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x, <span class="st">"°C"</span>), </span>
<span id="cb15-6"><a href="#cb15-6"></a>    <span class="co"># use 5°C spacing</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span><span class="sc">*</span><span class="dv">5</span>  <span class="co"># also: seq(-5, 30, by = 5)</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>  ) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9"></a>  <span class="co"># y axis</span></span>
<span id="cb15-10"><a href="#cb15-10"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb15-11"><a href="#cb15-11"></a>    <span class="co"># add a thousand separator</span></span>
<span id="cb15-12"><a href="#cb15-12"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(), </span>
<span id="cb15-13"><a href="#cb15-13"></a>    <span class="co"># use consistent spacing across rows</span></span>
<span id="cb15-14"><a href="#cb15-14"></a>    <span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span><span class="sc">*</span><span class="dv">10000</span></span>
<span id="cb15-15"><a href="#cb15-15"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-9b-1.png" width="2020" class="r-stretch"></section>
<section id="use-a-custom-color-palette" class="slide level2">
<h2>Use a Custom Color Palette</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-10a_a2b62e2d5909c2c1666aa1d893b05151">
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="2,3,4,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>g2 <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="co"># use a custom color palette for season colors</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb16-4"><a href="#cb16-4"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#6681FE"</span>, <span class="st">"#1EC98D"</span>, <span class="st">"#F7B01B"</span>, <span class="st">"#A26E7C"</span>)</span>
<span id="cb16-5"><a href="#cb16-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="use-a-custom-color-palette-1" class="slide level2">
<h2>Use a Custom Color Palette</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" data-code-line-numbers="1,2,3,4,5,6,7|10,11,12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># use a named vector for explicit matching</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#1EC98D"</span>,</span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#F7B01B"</span>,</span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#A26E7C"</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#6681FE"</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>)</span>
<span id="cb17-8"><a href="#cb17-8"></a></span>
<span id="cb17-9"><a href="#cb17-9"></a>g2 <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb17-11"><a href="#cb17-11"></a>    <span class="at">values =</span> colors</span>
<span id="cb17-12"><a href="#cb17-12"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-10-1.png" width="2020" class="r-stretch"></section>
<section id="adjust-labels-and-titles" class="slide level2">
<h2>Adjust Labels and Titles</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-11_2d7e0b13bceb12c6758e86b13d745705">
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="11,12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># use a named vector for explicit matching</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#1EC98D"</span>,</span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#F7B01B"</span>,</span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#A26E7C"</span>,</span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#6681FE"</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>)</span>
<span id="cb18-8"><a href="#cb18-8"></a></span>
<span id="cb18-9"><a href="#cb18-9"></a>g2 <span class="sc">+</span></span>
<span id="cb18-10"><a href="#cb18-10"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb18-11"><a href="#cb18-11"></a>    <span class="at">values =</span> colors,</span>
<span id="cb18-12"><a href="#cb18-12"></a>    <span class="co"># overwrite legend keys</span></span>
<span id="cb18-13"><a href="#cb18-13"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Winter"</span>, <span class="st">"Spring"</span>, <span class="st">"Summer"</span>, <span class="st">"Autumn"</span>)</span>
<span id="cb18-14"><a href="#cb18-14"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-11-1.png" width="2020" class="r-stretch"></section>
<section id="adjust-labels-and-titles-1" class="slide level2">
<h2>Adjust Labels and Titles</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="6,12|7,8|9,10,11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>g3 <span class="ot">&lt;-</span> g2 <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb19-3"><a href="#cb19-3"></a>    <span class="at">values =</span> colors,</span>
<span id="cb19-4"><a href="#cb19-4"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Winter"</span>, <span class="st">"Spring"</span>, <span class="st">"Summer"</span>, <span class="st">"Autumn"</span>)</span>
<span id="cb19-5"><a href="#cb19-5"></a>  ) <span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-7"><a href="#cb19-7"></a>    <span class="co"># overwrite axis and legend titles</span></span>
<span id="cb19-8"><a href="#cb19-8"></a>    <span class="at">x =</span> <span class="st">"Average feels-like temperature"</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb19-9"><a href="#cb19-9"></a>    <span class="co"># add plot title and caption</span></span>
<span id="cb19-10"><a href="#cb19-10"></a>    <span class="at">title =</span> <span class="st">"Trends of Reported Bike Rents versus Feels-Like Temperature in London"</span>,</span>
<span id="cb19-11"><a href="#cb19-11"></a>    <span class="at">caption =</span> <span class="st">"Data: TfL (Transport for London), Jan 2015–Dec 2016"</span></span>
<span id="cb19-12"><a href="#cb19-12"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-12-1.png" width="2020" class="r-stretch"></section>
<section id="apply-a-complete-theme" class="slide level2">
<h2>Apply a Complete Theme</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-13_8ce6babacc4b7bf8b34abbd3a8f15fc1">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="2,3,4,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>g3 <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="co"># add theme with a custom font + larger element sizes</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">theme_light</span>(</span>
<span id="cb20-4"><a href="#cb20-4"></a>    <span class="at">base_size =</span> <span class="dv">15</span>, <span class="at">base_family =</span> <span class="st">"Spline Sans"</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-13-1.png" width="2020" class="r-stretch"></section>
<section id="apply-a-complete-theme-1" class="slide level2">
<h2>Apply a Complete Theme</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="3,4,20|5,6,7|8,9,10,11,12,13,14|15,16|17,18|19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>g4 <span class="ot">&lt;-</span> g3 <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="fu">theme_light</span>(<span class="at">base_size =</span> <span class="dv">15</span>, <span class="at">base_family =</span> <span class="st">"Spline Sans"</span>) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="co"># theme adjustments</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="fu">theme</span>(</span>
<span id="cb21-5"><a href="#cb21-5"></a>    <span class="at">plot.title.position =</span> <span class="st">"plot"</span>, <span class="co"># left-align title </span></span>
<span id="cb21-6"><a href="#cb21-6"></a>    <span class="at">plot.caption.position =</span> <span class="st">"plot"</span>, <span class="co"># right-align caption</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>    <span class="at">legend.position =</span> <span class="st">"top"</span>, <span class="co"># place legend above plot</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.4</span>)), <span class="co"># larger, bold title</span></span>
<span id="cb21-9"><a href="#cb21-9"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Spline Sans Mono"</span>), <span class="co"># monospaced font for axes</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>( <span class="co"># left-aligned, grey x axis label</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>      <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"grey20"</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">12</span>)</span>
<span id="cb21-12"><a href="#cb21-12"></a>    ),</span>
<span id="cb21-13"><a href="#cb21-13"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)), <span class="co"># larger legend labels</span></span>
<span id="cb21-14"><a href="#cb21-14"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.15</span>)), <span class="co"># larger, bold facet labels</span></span>
<span id="cb21-15"><a href="#cb21-15"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(), <span class="co"># no vertical major lines</span></span>
<span id="cb21-16"><a href="#cb21-16"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># no minor grid lines</span></span>
<span id="cb21-17"><a href="#cb21-17"></a>    <span class="at">panel.spacing.x =</span> <span class="fu">unit</span>(<span class="dv">20</span>, <span class="st">"pt"</span>), <span class="co"># increase white space between panels</span></span>
<span id="cb21-18"><a href="#cb21-18"></a>    <span class="at">panel.spacing.y =</span> <span class="fu">unit</span>(<span class="dv">10</span>, <span class="st">"pt"</span>), <span class="co"># increase white space between panels</span></span>
<span id="cb21-19"><a href="#cb21-19"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fu">rep</span>(<span class="dv">15</span>, <span class="dv">4</span>)) <span class="co"># adjust white space around plot</span></span>
<span id="cb21-20"><a href="#cb21-20"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-14-1.png" width="2020" class="r-stretch"></section>
<section id="adjust-legend" class="slide level2">
<h2>Adjust Legend</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-15_d3d277f36ff972c767f850750799d004">
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="2,3,4,5|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>g4 <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="co"># adjust symbol size in legend</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">guides</span>(</span>
<span id="cb22-4"><a href="#cb22-4"></a>    <span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>))</span>
<span id="cb22-5"><a href="#cb22-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="adjust-legend-1" class="slide level2">
<h2>Adjust Legend</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-15b_6458e18188c6b9f6ebd8138a1213bb5f">
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="2,5,6,7|5,6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>g4 <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb23-3"><a href="#cb23-3"></a>    <span class="at">values =</span> colors,</span>
<span id="cb23-4"><a href="#cb23-4"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Winter"</span>, <span class="st">"Spring"</span>, <span class="st">"Summer"</span>, <span class="st">"Autumn"</span>),</span>
<span id="cb23-5"><a href="#cb23-5"></a>    <span class="co"># adjust symbol size in legend size</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>    <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>))</span>
<span id="cb23-7"><a href="#cb23-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">


<img data-src="01-fundamentals_files/figure-revealjs/walkthrough-15-1.png" width="2020" class="r-stretch"></section>
<section id="full-code" class="slide level2">
<h2>Full Code</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/walkthrough-full_8c95ed35a394e76e96f956adb5272781">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># create named color vector</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#1EC98D"</span>,</span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#F7B01B"</span>,</span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#A26E7C"</span>,</span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"#6681FE"</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>)</span>
<span id="cb24-8"><a href="#cb24-8"></a></span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="co"># scatter plot of plot bikes$count versus bikes$temp_feel</span></span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp_feel, <span class="at">y =</span> count)) <span class="sc">+</span> </span>
<span id="cb24-11"><a href="#cb24-11"></a>  <span class="co"># add points</span></span>
<span id="cb24-12"><a href="#cb24-12"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb24-13"><a href="#cb24-13"></a>    <span class="co"># color mapping only applied to points</span></span>
<span id="cb24-14"><a href="#cb24-14"></a>    <span class="fu">aes</span>(<span class="at">color =</span> season), </span>
<span id="cb24-15"><a href="#cb24-15"></a>    <span class="co"># setting larger points with 50% opacity</span></span>
<span id="cb24-16"><a href="#cb24-16"></a>    <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">size =</span> <span class="fl">1.5</span></span>
<span id="cb24-17"><a href="#cb24-17"></a>  ) <span class="sc">+</span> </span>
<span id="cb24-18"><a href="#cb24-18"></a>  <span class="co"># add a smoothing</span></span>
<span id="cb24-19"><a href="#cb24-19"></a>  <span class="fu">stat_smooth</span>(  <span class="co"># also: geom_smooth()</span></span>
<span id="cb24-20"><a href="#cb24-20"></a>    <span class="co"># use linear fitting + draw black smoothing lines</span></span>
<span id="cb24-21"><a href="#cb24-21"></a>    <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb24-22"><a href="#cb24-22"></a>  ) <span class="sc">+</span></span>
<span id="cb24-23"><a href="#cb24-23"></a>  <span class="co"># small multiples</span></span>
<span id="cb24-24"><a href="#cb24-24"></a>  <span class="fu">facet_grid</span>(</span>
<span id="cb24-25"><a href="#cb24-25"></a>    day_night <span class="sc">~</span> year,  <span class="co"># also: vars(day_night), vars(year)</span></span>
<span id="cb24-26"><a href="#cb24-26"></a>    <span class="co"># free y axis range</span></span>
<span id="cb24-27"><a href="#cb24-27"></a>    <span class="at">scales =</span> <span class="st">"free_y"</span>, </span>
<span id="cb24-28"><a href="#cb24-28"></a>    <span class="co"># scale heights proportionally </span></span>
<span id="cb24-29"><a href="#cb24-29"></a>    <span class="at">space =</span> <span class="st">"free_y"</span></span>
<span id="cb24-30"><a href="#cb24-30"></a>  ) <span class="sc">+</span></span>
<span id="cb24-31"><a href="#cb24-31"></a>  <span class="co"># x axis</span></span>
<span id="cb24-32"><a href="#cb24-32"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb24-33"><a href="#cb24-33"></a>    <span class="co"># add °C symbol</span></span>
<span id="cb24-34"><a href="#cb24-34"></a>    <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">paste0</span>(x, <span class="st">"°C"</span>), </span>
<span id="cb24-35"><a href="#cb24-35"></a>    <span class="co"># use 5°C spacing</span></span>
<span id="cb24-36"><a href="#cb24-36"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span><span class="sc">*</span><span class="dv">5</span>  <span class="co"># also: seq(-5, 30, by = 5)</span></span>
<span id="cb24-37"><a href="#cb24-37"></a>  ) <span class="sc">+</span></span>
<span id="cb24-38"><a href="#cb24-38"></a>  <span class="co"># y axis</span></span>
<span id="cb24-39"><a href="#cb24-39"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb24-40"><a href="#cb24-40"></a>    <span class="co"># add a thousand separator</span></span>
<span id="cb24-41"><a href="#cb24-41"></a>    <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_comma</span>(), </span>
<span id="cb24-42"><a href="#cb24-42"></a>    <span class="co"># use consistent spacing across rows</span></span>
<span id="cb24-43"><a href="#cb24-43"></a>    <span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span><span class="sc">*</span><span class="dv">10000</span></span>
<span id="cb24-44"><a href="#cb24-44"></a>  ) <span class="sc">+</span></span>
<span id="cb24-45"><a href="#cb24-45"></a>  <span class="co"># colors</span></span>
<span id="cb24-46"><a href="#cb24-46"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb24-47"><a href="#cb24-47"></a>    <span class="co"># use a custom color palette</span></span>
<span id="cb24-48"><a href="#cb24-48"></a>    <span class="at">values =</span> colors,</span>
<span id="cb24-49"><a href="#cb24-49"></a>    <span class="co"># overwrite legend keys</span></span>
<span id="cb24-50"><a href="#cb24-50"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Winter"</span>, <span class="st">"Spring"</span>, <span class="st">"Summer"</span>, <span class="st">"Autumn"</span>),</span>
<span id="cb24-51"><a href="#cb24-51"></a>    <span class="co"># adjust symbol size in legend size</span></span>
<span id="cb24-52"><a href="#cb24-52"></a>    <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>))</span>
<span id="cb24-53"><a href="#cb24-53"></a>  ) <span class="sc">+</span></span>
<span id="cb24-54"><a href="#cb24-54"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-55"><a href="#cb24-55"></a>    <span class="co"># overwrite axis and legend titles</span></span>
<span id="cb24-56"><a href="#cb24-56"></a>    <span class="at">x =</span> <span class="st">"Average feels-like temperature"</span>, <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">color =</span> <span class="cn">NULL</span>,</span>
<span id="cb24-57"><a href="#cb24-57"></a>    <span class="co"># add plot title and caption</span></span>
<span id="cb24-58"><a href="#cb24-58"></a>    <span class="at">title =</span> <span class="st">"Trends of Reported Bike Rents versus Feels-Like Temperature in London"</span>,</span>
<span id="cb24-59"><a href="#cb24-59"></a>    <span class="at">caption =</span> <span class="st">"Data: TfL (Transport for London), Jan 2015–Dec 2016"</span></span>
<span id="cb24-60"><a href="#cb24-60"></a>  ) <span class="sc">+</span></span>
<span id="cb24-61"><a href="#cb24-61"></a>  <span class="co"># add theme with a custom font + larger element sizes</span></span>
<span id="cb24-62"><a href="#cb24-62"></a>  <span class="fu">theme_light</span>(</span>
<span id="cb24-63"><a href="#cb24-63"></a>    <span class="at">base_size =</span> <span class="dv">15</span>, <span class="at">base_family =</span> <span class="st">"Spline Sans"</span></span>
<span id="cb24-64"><a href="#cb24-64"></a>  ) <span class="sc">+</span></span>
<span id="cb24-65"><a href="#cb24-65"></a>  <span class="co"># theme adjustments</span></span>
<span id="cb24-66"><a href="#cb24-66"></a>  <span class="fu">theme</span>(</span>
<span id="cb24-67"><a href="#cb24-67"></a>    <span class="at">plot.title.position =</span> <span class="st">"plot"</span>, <span class="co"># left-align title </span></span>
<span id="cb24-68"><a href="#cb24-68"></a>    <span class="at">plot.caption.position =</span> <span class="st">"plot"</span>, <span class="co"># right-align caption</span></span>
<span id="cb24-69"><a href="#cb24-69"></a>    <span class="at">legend.position =</span> <span class="st">"top"</span>, <span class="co"># place legend above plot</span></span>
<span id="cb24-70"><a href="#cb24-70"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.4</span>)), <span class="co"># larger, bold title</span></span>
<span id="cb24-71"><a href="#cb24-71"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"Spline Sans Mono"</span>), <span class="co"># monospaced font for axes</span></span>
<span id="cb24-72"><a href="#cb24-72"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>( <span class="co"># left-aligned, grey x axis label</span></span>
<span id="cb24-73"><a href="#cb24-73"></a>      <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"grey20"</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">12</span>)</span>
<span id="cb24-74"><a href="#cb24-74"></a>    ),</span>
<span id="cb24-75"><a href="#cb24-75"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>)), <span class="co"># larger legend labels</span></span>
<span id="cb24-76"><a href="#cb24-76"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.15</span>)), <span class="co"># larger, bold facet labels</span></span>
<span id="cb24-77"><a href="#cb24-77"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(), <span class="co"># no vertical major lines</span></span>
<span id="cb24-78"><a href="#cb24-78"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), <span class="co"># no minor grid lines</span></span>
<span id="cb24-79"><a href="#cb24-79"></a>    <span class="at">panel.spacing.x =</span> <span class="fu">unit</span>(<span class="dv">20</span>, <span class="st">"pt"</span>), <span class="co"># increase white space between panels</span></span>
<span id="cb24-80"><a href="#cb24-80"></a>    <span class="at">panel.spacing.y =</span> <span class="fu">unit</span>(<span class="dv">10</span>, <span class="st">"pt"</span>), <span class="co"># increase white space between panels</span></span>
<span id="cb24-81"><a href="#cb24-81"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fu">rep</span>(<span class="dv">15</span>, <span class="dv">4</span>)) <span class="co"># adjust white space around plot</span></span>
<span id="cb24-82"><a href="#cb24-82"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="saving-plots" class="title-slide slide level1 center">
<h1>Saving Plots</h1>

</section>
<section id="save-the-graphic" class="slide level2">
<h2>Save the Graphic</h2>
<p><br></p>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save_e5f05ce158402d7e685982556d179209">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"my_plot.png"</span>, <span class="at">plot =</span> g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-implicit_9766c1583f2fbb00908b516d985f6453">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-aspect_c4c7d92b369109a8c63e4d3acb8b3a4a">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="plot-resolution" class="slide level2">
<h2>Plot Resolution</h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="plots/resolution-dpi-100.png"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="plots/resolution-dpi-600.png"></p>
</div>
</div>
</div>
</section>
<section id="plot-resolution-1" class="slide level2">
<h2>Plot Resolution</h2>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="img/resolution-dpi-100-zoom.png"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="img/resolution-dpi-600-zoom.png"></p>
</div>
</div>
</div>
</section>
<section id="save-the-graphic-1" class="slide level2">
<h2>Save the Graphic</h2>
<p><br></p>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save_439dcf333a92406ebd8f3987d6bf9287">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"my_plot.png"</span>, <span class="at">plot =</span> g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-implicit_c5fdbcc9003675c2f0008fca98c36874">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-aspect_c7758af26f1a01644a26e5432e2f2d0c">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-unit_1cb025e0ae788e688d21927fee627091">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>, <span class="at">width =</span> <span class="dv">6</span><span class="sc">*</span><span class="fl">2.54</span>, <span class="at">height =</span> <span class="dv">5</span><span class="sc">*</span><span class="fl">2.54</span>, <span class="at">unit =</span> <span class="st">"cm"</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-raster-agg_7717fd36fbcc79947a3b710ba2e06004">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>, <span class="at">device =</span> agg_png)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-cairo_b9eb653fefdb960c5af7f9f35c0916ab">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.pdf"</span>, <span class="at">device =</span> cairo_pdf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section class="slide level2">

<p><br></p>

<img data-src="img/vector-raster-canva.png" alt="A comparison of vector and raster graphics." class="r-stretch quarto-figure-center"><p class="caption">Modified from canva.com</p></section>
<section id="the-ragg-package" class="slide level2">
<h2>The {ragg} Package</h2>
<p><span class="simple-highlight-grn" style="font-size:2.1rem;">provides drop-in replacements for the default raster graphic devices</span></p>
<div>
<ul>
<li class="fragment">faster</li>
<li class="fragment">direct access to all system fonts</li>
<li class="fragment">advanced text rendering
<ul>
<li class="fragment">including support for right-to-left text, emojis, and font fallback</li>
</ul></li>
<li class="fragment">high quality anti-aliasing</li>
<li class="fragment">high quality rotated text</li>
<li class="fragment">supports 16-bit output</li>
<li class="fragment">system independent rendering</li>
</ul>
</div>
</section>
<section id="the-ragg-package-1" class="slide level2">
<h2>The {ragg} Package</h2>
<p><br></p>

<img data-src="img/ragg-left-and-right.png" alt="A comparison of different graphic devices in R comparing the rendering of right-to-left text (and mixing left-to-right and right-to-left text)." class="r-stretch quarto-figure-center"><p class="caption">Source: <a href="https://www.tidyverse.org/blog/2021/02/modern-text-features/">tidyverse.org/blog/2021/02/modern-text-features</a></p></section>
<section id="the-ragg-package-2" class="slide level2">
<h2>The {ragg} Package</h2>
<p><br></p>

<img data-src="img/ragg-ligatures.png" alt="A comparison of different graphic devices in R comparing the rendering of font ligatures." class="r-stretch quarto-figure-center"><p class="caption">Source: <a href="https://www.tidyverse.org/blog/2021/02/modern-text-features/">tidyverse.org/blog/2021/02/modern-text-features</a></p></section>
<section id="the-ragg-package-3" class="slide level2">
<h2>The {ragg} Package</h2>
<p><br></p>

<img data-src="img/ragg-emojis.png" alt="A comparison of different graphic devices in R comparing the rendering of emojis." class="r-stretch quarto-figure-center"><p class="caption">Source: <a href="https://www.tidyverse.org/blog/2021/02/modern-text-features/">tidyverse.org/blog/2021/02/modern-text-features</a></p></section>
<section id="the-ragg-package-4" class="slide level2">
<h2>The {ragg} Package</h2>
<p><br></p>

<img data-src="img/ragg-fallback.png" alt="A comparison of different graphic devices in R comparing the rendering missing glyphs, partly making use of fallback fonts." class="r-stretch quarto-figure-center"><p class="caption">Source: <a href="https://www.tidyverse.org/blog/2021/02/modern-text-features/">tidyverse.org/blog/2021/02/modern-text-features</a></p></section>
<section id="the-ragg-package-5" class="slide level2">
<h2>The {ragg} Package</h2>
<div>
<ul>
<li class="fragment">use {ragg} when saving ggplots by passing agg device function: <code>ggsave(device = agg_png))</code> (<a href="https://github.com/tidyverse/ggplot2/pull/4388">used by default if installed</a>)</li>
<li class="fragment">use {ragg} in the <em>Rstudio Plots</em> pane be setting the backend to AGG: <img data-src="img/ragg-rstudio.png" alt="How to set the AGG device as the default in RStudio via Global Options > > General > Graphics > Backend."></li>
<li class="fragment">use {ragg} when knitting Rmarkdown files by setting <code>dev="ragg_png"</code> in the code chunk options.</li>
</ul>
</div>
</section>
<section id="save-the-graphic-2" class="slide level2">
<h2>Save the Graphic</h2>
<p><br></p>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save_439dcf333a92406ebd8f3987d6bf9287">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"my_plot.png"</span>, <span class="at">plot =</span> g)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-implicit_c5fdbcc9003675c2f0008fca98c36874">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-aspect_c7758af26f1a01644a26e5432e2f2d0c">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-unit_7b4c6b278330b6c7959419e4fe66e57e">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>, <span class="at">width =</span> <span class="dv">6</span><span class="sc">*</span><span class="fl">2.54</span>, <span class="at">height =</span> <span class="dv">5</span><span class="sc">*</span><span class="fl">2.54</span>, <span class="at">unit =</span> <span class="st">"cm"</span>, <span class="at">dpi =</span> <span class="dv">600</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-raster-agg_ee35fa72950cb04d7a1ba33120bd2923">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.png"</span>, <span class="at">device =</span> agg_png)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-cairo_a437ddfca531433a3be58b3e32c0b6cf">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.pdf"</span>, <span class="at">device =</span> cairo_pdf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<div class="cell" data-hash="01-fundamentals_cache/revealjs/ggplot-save-svg_04c01878d73ecdfe86e9bb01ec2cecfb">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">ggsave</span>(<span class="st">"my_plot.svg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="img/figma-svg.png" class="r-stretch quarto-figure-center"></section>
<section id="how-to-work-with-aspect-ratios" class="slide level2">
<h2>How to Work with Aspect Ratios</h2>
<div>
<ul>
<li class="fragment">don’t rely on the Rstudio viewer pane!</li>
<li class="fragment">once you have a <em>“it’s getting close”</em> prototype, settle on a plot size<br><br></li>
<li class="fragment"><strong>Approach 1:</strong> save the file and inspect it—go back to your IDE—repeat
<ul>
<li class="fragment">tedious and time-consuming…<br><br></li>
</ul></li>
<li class="fragment"><strong>Approach 2:</strong> use a qmd or rmd with inline output and chunk settings
<ul>
<li class="fragment">set <code>fig-width</code> / <code>fig.width</code> and <code>fig-height</code> / <code>fig.height</code><br>per chunk or globally<br><br></li>
</ul></li>
</ul>
</div>
</section>
<section id="setting-plot-sizes-in-quarto-and-rmarkdown" class="slide level2">
<h2>Setting Plot Sizes in Quarto and Rmarkdown</h2>

<img data-src="img/plot-size-chunk-yaml.png" alt="A screenshot of an exemplary Qmd file with two chunks with different settings of fig-width and fig-height as YAML-styled options using the hashpipe. Unfortunately, these are not respected when the chunk output is printed inline." class="r-stretch quarto-figure-center"></section>
<section id="setting-plot-sizes-in-quarto-and-rmarkdown-1" class="slide level2">
<h2>Setting Plot Sizes in Quarto and Rmarkdown</h2>

<img data-src="img/plot-size-chunk-inline.png" alt="A screenshot of an exemplary Qmd file with two chunks with different settings of fig.width and fig.height set as inline chunk options." class="r-stretch quarto-figure-center"></section>
<section id="how-to-work-with-aspect-ratios-1" class="slide level2">
<h2>How to Work with Aspect Ratios</h2>
<ul>
<li>don’t rely on the Rstudio viewer pane!</li>
<li>once you have a <em>“it’s getting close”</em> prototype, settle on a plot size<br><br></li>
<li><strong>Approach 1:</strong> save the file and inspect it—go back to your IDE—repeat
<ul>
<li>tedious and time-consuming…<br><br></li>
</ul></li>
<li><strong>Approach 2:</strong> use a qmd or rmd with inline output and chunk settings
<ul>
<li>set <code>fig-width</code> / <code>fig.width</code> and <code>fig-height</code> / <code>fig.height</code><br>per chunk or globally<br><br></li>
</ul></li>
<li><strong>Approach 3:</strong> use our <a href="https://github.com/thebioengineer/camcorder">{camcorder} package</a>
<ul>
<li>saves output from all <code>ggplot()</code> calls and displays it in the viewer pane</li>
</ul></li>
</ul>
</section>
<section id="setting-plot-sizes-via-camcorder" class="slide level2">
<h2>Setting Plot Sizes via {camcorder}</h2>
<p><br></p>

<img data-src="img/plot-size-camcorder-a.png" alt="A screenshot of an exemplary R script with a plot automatically saved and isplayed in correct aspect ratio thanks to the camcorder package." class="r-stretch quarto-figure-center"></section>
<section id="setting-plot-sizes-via-camcorder-1" class="slide level2">
<h2>Setting Plot Sizes via {camcorder}</h2>
<p><br></p>

<img data-src="img/plot-size-camcorder-b.png" alt="A screenshot of an exemplary R script with a plot automatically saved and isplayed in correct aspect ratio thanks to the camcorder package." class="r-stretch quarto-figure-center"></section>
<section id="setting-plot-sizes-via-camcorder-2" class="slide level2">
<h2>Setting Plot Sizes via {camcorder}</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/camcorder-record_00dad4ac42afbc08553cc5c510c3d7ea">
<div class="sourceCode cell-code" id="cb41" data-code-line-numbers="1,2,3,4,5,6,7|9,10,11,12,13,15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>camcorder<span class="sc">::</span><span class="fu">gg_record</span>(</span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="at">dir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"temp"</span>),  <span class="co"># path for plot files</span></span>
<span id="cb41-3"><a href="#cb41-3"></a>  <span class="at">device =</span> <span class="st">"png"</span>,            <span class="co"># device to use</span></span>
<span id="cb41-4"><a href="#cb41-4"></a>  <span class="at">width =</span> <span class="dv">10</span>,                <span class="co"># figure width</span></span>
<span id="cb41-5"><a href="#cb41-5"></a>  <span class="at">height =</span> <span class="dv">5</span>,                <span class="co"># figure height</span></span>
<span id="cb41-6"><a href="#cb41-6"></a>  <span class="at">dpi =</span> <span class="dv">600</span>                  <span class="co"># plot resolution</span></span>
<span id="cb41-7"><a href="#cb41-7"></a>)</span>
<span id="cb41-8"><a href="#cb41-8"></a></span>
<span id="cb41-9"><a href="#cb41-9"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> count, <span class="at">color =</span> day_night)) <span class="sc">+</span></span>
<span id="cb41-10"><a href="#cb41-10"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">3</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb41-11"><a href="#cb41-11"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="at">day =</span> <span class="st">"#FFA200"</span>, <span class="at">night =</span> <span class="st">"#757BC7"</span>)) <span class="sc">+</span></span>
<span id="cb41-12"><a href="#cb41-12"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>, <span class="at">base_family =</span> <span class="st">"Asap SemiCondensed"</span>) <span class="sc">+</span></span>
<span id="cb41-13"><a href="#cb41-13"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span>
<span id="cb41-14"><a href="#cb41-14"></a></span>
<span id="cb41-15"><a href="#cb41-15"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="setting-plot-sizes-via-camcorder-3" class="slide level2">
<h2>Setting Plot Sizes via {camcorder}</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/camcorder-resize_8c9dabd1c4d2661597733e6d716f0424">
<div class="sourceCode cell-code" id="cb42" data-code-line-numbers="17,19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>camcorder<span class="sc">::</span><span class="fu">gg_record</span>(</span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="at">dir =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"temp"</span>),  <span class="co"># path for plot files</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="at">device =</span> <span class="st">"png"</span>,            <span class="co"># device to use</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="at">width =</span> <span class="dv">10</span>,                <span class="co"># figure width</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>  <span class="at">height =</span> <span class="dv">5</span>,                <span class="co"># figure height</span></span>
<span id="cb42-6"><a href="#cb42-6"></a>  <span class="at">dpi =</span> <span class="dv">600</span>                  <span class="co"># plot resolution</span></span>
<span id="cb42-7"><a href="#cb42-7"></a>)</span>
<span id="cb42-8"><a href="#cb42-8"></a></span>
<span id="cb42-9"><a href="#cb42-9"></a>g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> count, <span class="at">color =</span> day_night)) <span class="sc">+</span></span>
<span id="cb42-10"><a href="#cb42-10"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">3</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb42-11"><a href="#cb42-11"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="at">day =</span> <span class="st">"#FFA200"</span>, <span class="at">night =</span> <span class="st">"#757BC7"</span>)) <span class="sc">+</span></span>
<span id="cb42-12"><a href="#cb42-12"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>, <span class="at">base_family =</span> <span class="st">"Asap SemiCondensed"</span>) <span class="sc">+</span></span>
<span id="cb42-13"><a href="#cb42-13"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span>
<span id="cb42-14"><a href="#cb42-14"></a></span>
<span id="cb42-15"><a href="#cb42-15"></a>g</span>
<span id="cb42-16"><a href="#cb42-16"></a></span>
<span id="cb42-17"><a href="#cb42-17"></a>camcorder<span class="sc">::</span><span class="fu">gg_resize_film</span>(<span class="at">width =</span> <span class="dv">20</span>) <span class="co"># update figure width</span></span>
<span id="cb42-18"><a href="#cb42-18"></a></span>
<span id="cb42-19"><a href="#cb42-19"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="like-a-pro-set-theme-globally" class="slide level2">
<h2>Like a Pro: Set Theme Globally</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>, <span class="at">base_family =</span> <span class="st">"Asap SemiCondensed"</span>))</span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">theme_update</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="programming-with-ggplot2" class="title-slide slide level1 center">
<h1>Programming <br>with ggplot2</h1>

</section>
<section id="conditional-components" class="slide level2">
<h2>Conditional Components</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/conditional-components_caef70472f777a01248d33a3f284f406">
<div class="sourceCode cell-code" id="cb44" data-code-line-numbers="1|3,4,5|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>smooth <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb44-2"><a href="#cb44-2"></a></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> humidity)) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4"></a>  { <span class="cf">if</span>(smooth) <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"red"</span>) } <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conditional-components-1" class="slide level2">
<h2>Conditional Components</h2>
<div class="cell" data-layout-align="center" data-hash="01-fundamentals_cache/revealjs/conditional-components-1_af3590b704ded767678e130b9bed0532">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>smooth <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb45-2"><a href="#cb45-2"></a></span>
<span id="cb45-3"><a href="#cb45-3"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> humidity)) <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4"></a>  { <span class="cf">if</span>(smooth) <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"red"</span>) } <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/conditional-components-1-1.png" width="1600" class="r-stretch quarto-figure-center"></section>
<section id="conditional-components-2" class="slide level2">
<h2>Conditional Components</h2>
<div class="cell" data-layout-align="center" data-hash="01-fundamentals_cache/revealjs/conditional-components-2_f29ca7457d58aeba72af8364052998e2">
<div class="sourceCode cell-code" id="cb46" data-code-line-numbers="1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>smooth <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb46-2"><a href="#cb46-2"></a></span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> humidity)) <span class="sc">+</span></span>
<span id="cb46-4"><a href="#cb46-4"></a>  { <span class="cf">if</span>(smooth) <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"red"</span>) } <span class="sc">+</span></span>
<span id="cb46-5"><a href="#cb46-5"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/conditional-components-2-1.png" width="1600" class="r-stretch quarto-figure-center"></section>
<section id="wrapper-functions-for-plots" class="slide level2">
<h2>Wrapper Functions for Plots</h2>
<div class="cell" data-hash="01-fundamentals_cache/revealjs/conditional-components-function_bbcbb08aec8f13e9bfdf6dcd42f130a4">
<div class="sourceCode cell-code" id="cb47" data-code-line-numbers="1,5|2,3,4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>draw_scatter <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">smooth =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> humidity)) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>    { <span class="cf">if</span>(smooth) <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"red"</span>) } <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>)</span>
<span id="cb47-5"><a href="#cb47-5"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="wrapper-functions-for-plots-1" class="slide level2">
<h2>Wrapper Functions for Plots</h2>
<div class="cell columns column-output-location" data-hash="01-fundamentals_cache/revealjs/conditional-components-function-plot-default_b88942c23d103843491ed566b4ee8391">
<div class="column">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">draw_scatter</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/conditional-components-function-plot-default-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="wrapper-functions-for-plots-2" class="slide level2">
<h2>Wrapper Functions for Plots</h2>
<div class="cell columns column-output-location" data-hash="01-fundamentals_cache/revealjs/conditional-components-function-plot-false_9e465abdd77a1628e20f9b9194f5c781">
<div class="column">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">draw_scatter</span>(<span class="at">smooth =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/conditional-components-function-plot-false-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="components-as-functions" class="slide level2">
<h2>Components as Functions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50" data-code-line-numbers="1,2,7|3,6|4,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>geom_scatterfit <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">pointsize =</span> <span class="dv">1</span>, <span class="at">pointalpha =</span> <span class="dv">1</span>, </span>
<span id="cb50-2"><a href="#cb50-2"></a>                            <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">linecolor =</span> <span class="st">"red"</span>, ...) {</span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="fu">list</span>(</span>
<span id="cb50-4"><a href="#cb50-4"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> pointsize, <span class="at">alpha =</span> pointalpha, ...),</span>
<span id="cb50-5"><a href="#cb50-5"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> method, <span class="at">color =</span> linecolor, ...)</span>
<span id="cb50-6"><a href="#cb50-6"></a>  )</span>
<span id="cb50-7"><a href="#cb50-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="components-as-functions-1" class="slide level2">
<h2>Components as Functions</h2>
<div class="cell columns column-output-location" data-hash="01-fundamentals_cache/revealjs/function-components-defaults_b82bb4e1013de3757c454e7f445193ef">
<div class="column">
<div class="sourceCode cell-code" id="cb51" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">ggplot</span>(bikes,</span>
<span id="cb51-2"><a href="#cb51-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> humidity, <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb51-3"><a href="#cb51-3"></a>  <span class="fu">geom_scatterfit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/function-components-defaults-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="components-as-functions-2" class="slide level2">
<h2>Components as Functions</h2>
<div class="cell columns column-output-location" data-hash="01-fundamentals_cache/revealjs/function-components-args_166742f1bde5f609121fd38acd7a44d2">
<div class="column">
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="4,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">ggplot</span>(bikes,</span>
<span id="cb52-2"><a href="#cb52-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> humidity, <span class="at">y =</span> count)) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="fu">geom_scatterfit</span>(</span>
<span id="cb52-4"><a href="#cb52-4"></a>    <span class="at">color =</span> <span class="st">"#28A87D"</span>, </span>
<span id="cb52-5"><a href="#cb52-5"></a>    <span class="at">linewidth =</span> <span class="dv">3</span></span>
<span id="cb52-6"><a href="#cb52-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/function-components-args-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="components-as-functions-3" class="slide level2">
<h2>Components as Functions</h2>
<div class="cell columns column-output-location" data-hash="01-fundamentals_cache/revealjs/function-components-custom_0855f87dcad4c1979956d8c4ba0fb5cc">
<div class="column">
<div class="sourceCode cell-code" id="cb53" data-code-line-numbers="1,2|4,5,6,7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">ggplot</span>(diamonds, </span>
<span id="cb53-2"><a href="#cb53-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="fu">geom_scatterfit</span>(</span>
<span id="cb53-4"><a href="#cb53-4"></a>    <span class="at">pointsize =</span> .<span class="dv">5</span>, </span>
<span id="cb53-5"><a href="#cb53-5"></a>    <span class="at">pointalpha =</span> .<span class="dv">1</span>,</span>
<span id="cb53-6"><a href="#cb53-6"></a>    <span class="at">method =</span> <span class="st">"gam"</span>,</span>
<span id="cb53-7"><a href="#cb53-7"></a>    <span class="at">linecolor =</span> <span class="st">"#EFAC00"</span></span>
<span id="cb53-8"><a href="#cb53-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/function-components-custom-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="components-as-functions-4" class="slide level2">
<h2>Components as Functions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54" data-code-line-numbers="1,14|2,13|3,4,5,6,7|8,9,10,11,12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>scales_log <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">sides =</span> <span class="st">"xy"</span>) {</span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="fu">list</span>(</span>
<span id="cb54-3"><a href="#cb54-3"></a>    <span class="cf">if</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(sides, <span class="st">"x"</span>)) {</span>
<span id="cb54-4"><a href="#cb54-4"></a>      <span class="fu">scale_x_log10</span>(</span>
<span id="cb54-5"><a href="#cb54-5"></a>        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">10</span><span class="sc">^</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)), <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_log</span>()</span>
<span id="cb54-6"><a href="#cb54-6"></a>      )</span>
<span id="cb54-7"><a href="#cb54-7"></a>    },</span>
<span id="cb54-8"><a href="#cb54-8"></a>    <span class="cf">if</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(sides, <span class="st">"y"</span>)) {</span>
<span id="cb54-9"><a href="#cb54-9"></a>      <span class="fu">scale_y_log10</span>(</span>
<span id="cb54-10"><a href="#cb54-10"></a>        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">10</span><span class="sc">^</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)), <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_log</span>()</span>
<span id="cb54-11"><a href="#cb54-11"></a>      )</span>
<span id="cb54-12"><a href="#cb54-12"></a>    }</span>
<span id="cb54-13"><a href="#cb54-13"></a>  )</span>
<span id="cb54-14"><a href="#cb54-14"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="components-as-functions-5" class="slide level2">
<h2>Components as Functions</h2>
<div class="cell columns column-output-location" data-hash="01-fundamentals_cache/revealjs/function-components-scales-custom_5b6321eab679a1975d13c047c2a99c10">
<div class="column">
<div class="sourceCode cell-code" id="cb55" data-code-line-numbers="9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">ggplot</span>(diamonds, </span>
<span id="cb55-2"><a href="#cb55-2"></a>       <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb55-3"><a href="#cb55-3"></a>  <span class="fu">geom_scatterfit</span>(</span>
<span id="cb55-4"><a href="#cb55-4"></a>    <span class="at">pointsize =</span> .<span class="dv">5</span>, </span>
<span id="cb55-5"><a href="#cb55-5"></a>    <span class="at">pointalpha =</span> .<span class="dv">1</span>,</span>
<span id="cb55-6"><a href="#cb55-6"></a>    <span class="at">method =</span> <span class="st">"gam"</span>,</span>
<span id="cb55-7"><a href="#cb55-7"></a>    <span class="at">linecolor =</span> <span class="st">"#EFAC00"</span></span>
<span id="cb55-8"><a href="#cb55-8"></a>  ) <span class="sc">+</span></span>
<span id="cb55-9"><a href="#cb55-9"></a>  <span class="fu">scales_log</span>(<span class="at">sides =</span> <span class="st">"y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/function-components-scales-custom-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="iterative-graphics" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="1,11|2,3,4|5,6,7,8,9|1,4,9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>trends_monthly <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">grp =</span> <span class="st">"January"</span>) {</span>
<span id="cb56-2"><a href="#cb56-2"></a>  bikes <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="#cb56-3"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">month =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="#cb56-4"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(month <span class="sc">%in%</span> grp) <span class="sc">|&gt;</span> </span>
<span id="cb56-5"><a href="#cb56-5"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> count, <span class="at">color =</span> day_night)) <span class="sc">+</span></span>
<span id="cb56-6"><a href="#cb56-6"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">2</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb56-7"><a href="#cb56-7"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb56-8"><a href="#cb56-8"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FFA200"</span>, <span class="st">"#757bc7"</span>)) <span class="sc">+</span></span>
<span id="cb56-9"><a href="#cb56-9"></a>    <span class="fu">labs</span>(<span class="at">title =</span> grp, <span class="at">x =</span> <span class="st">"Temperature"</span>, <span class="at">y =</span> <span class="st">"Bike shares"</span>, <span class="at">color =</span> <span class="cn">NULL</span>)</span>
<span id="cb56-10"><a href="#cb56-10"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="iterative-graphics-1" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="fu">trends_monthly</span>(<span class="st">"July"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/function-iterate-monthly-july-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="iterative-graphics-2" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58" data-code-line-numbers="8,9,10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>trends_monthly <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">grp =</span> <span class="st">"January"</span>) {</span>
<span id="cb58-2"><a href="#cb58-2"></a>  bikes <span class="sc">|&gt;</span> </span>
<span id="cb58-3"><a href="#cb58-3"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">month =</span> lubridate<span class="sc">::</span><span class="fu">month</span>(date, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb58-4"><a href="#cb58-4"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(month <span class="sc">%in%</span> grp) <span class="sc">|&gt;</span> </span>
<span id="cb58-5"><a href="#cb58-5"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> temp, <span class="at">y =</span> count, <span class="at">color =</span> day_night)) <span class="sc">+</span></span>
<span id="cb58-6"><a href="#cb58-6"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">2</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-7"><a href="#cb58-7"></a>    <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-8"><a href="#cb58-8"></a>    <span class="co"># keep axis ranges consistent</span></span>
<span id="cb58-9"><a href="#cb58-9"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">range</span>(bikes<span class="sc">$</span>temp)) <span class="sc">+</span></span>
<span id="cb58-10"><a href="#cb58-10"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">range</span>(bikes<span class="sc">$</span>count)) <span class="sc">+</span></span>
<span id="cb58-11"><a href="#cb58-11"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#FFA200"</span>, <span class="st">"#757bc7"</span>)) <span class="sc">+</span></span>
<span id="cb58-12"><a href="#cb58-12"></a>    <span class="fu">labs</span>(<span class="at">title =</span> grp, <span class="at">x =</span> <span class="st">"Temperature"</span>, <span class="at">y =</span> <span class="st">"Bike shares"</span>, <span class="at">color =</span> <span class="cn">NULL</span>)</span>
<span id="cb58-13"><a href="#cb58-13"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="iterative-graphics-3" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="fu">trends_monthly</span>(<span class="st">"July"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/function-iterate-monthly-ranges-july-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="iterative-graphics-4" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>plots <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(month.name[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>], trends_monthly) <span class="do">## also: ~ trends_monthly(.x)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="iterative-graphics-5" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb61" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>plots <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(month.name[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>], trends_monthly) <span class="do">## also: ~ trends_monthly(.x)</span></span>
<span id="cb61-2"><a href="#cb61-2"></a>plots[[<span class="dv">9</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/function-iterate-monthly-ranges-purrr-single-1.png" width="1600" class="r-stretch quarto-figure-center"></section>
<section id="iterative-graphics-6" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb62" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>plots <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(month.name[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>], trends_monthly) <span class="do">## also: ~ trends_monthly(.x)</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>patchwork<span class="sc">::</span><span class="fu">wrap_plots</span>(plots)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/function-iterate-monthly-ranges-wrap-1.png" width="3600" class="r-stretch quarto-figure-center"></section>
<section id="iterative-graphics-7" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb63" data-code-line-numbers="1,11|2|3,4|5,6,7|8,9,10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>plot_density <span class="ot">&lt;-</span> <span class="cf">function</span>(data, var, <span class="at">grp =</span> <span class="st">""</span>) {</span>
<span id="cb63-2"><a href="#cb63-2"></a>  <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">!!</span><span class="fu">sym</span>(var))) <span class="sc">+</span></span>
<span id="cb63-3"><a href="#cb63-3"></a>    <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="sc">!!</span><span class="fu">sym</span>(grp)), <span class="at">position =</span> <span class="st">"identity"</span>,</span>
<span id="cb63-4"><a href="#cb63-4"></a>                 <span class="at">color =</span> <span class="st">"grey30"</span>, <span class="at">alpha =</span> .<span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb63-5"><a href="#cb63-5"></a>    <span class="fu">coord_cartesian</span>(<span class="at">expand =</span> <span class="cn">FALSE</span>, <span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb63-6"><a href="#cb63-6"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>()) <span class="sc">+</span></span>
<span id="cb63-7"><a href="#cb63-7"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Dark2"</span>, <span class="at">name =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb63-8"><a href="#cb63-8"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb63-9"><a href="#cb63-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="iterative-graphics-8" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">plot_density</span>(</span>
<span id="cb64-2"><a href="#cb64-2"></a>  bikes, <span class="st">"count"</span></span>
<span id="cb64-3"><a href="#cb64-3"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="01-fundamentals_files/figure-revealjs/function-density-plot-1.png" width="1000"></p>
</div>
</div>
</div>
</section>
<section id="iterative-graphics-9" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb65" data-code-line-numbers="1,2,3,4|2|3|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>plots <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(</span>
<span id="cb65-2"><a href="#cb65-2"></a>  <span class="fu">c</span>(<span class="st">"count"</span>, <span class="st">"temp"</span>, <span class="st">"humidity"</span>, <span class="st">"wind_speed"</span>), </span>
<span id="cb65-3"><a href="#cb65-3"></a>  <span class="sc">~</span> <span class="fu">plot_density</span>(<span class="at">data =</span> bikes, <span class="at">var =</span> .x, <span class="at">grp =</span> <span class="st">"day_night"</span>)</span>
<span id="cb65-4"><a href="#cb65-4"></a>)</span>
<span id="cb65-5"><a href="#cb65-5"></a>patchwork<span class="sc">::</span><span class="fu">wrap_plots</span>(plots, <span class="at">nrow =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/function-density-plot-grp-1.png" width="2800" class="r-stretch quarto-figure-center"></section>
<section id="iterative-graphics-10" class="slide level2">
<h2>Iterative Graphics</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb66" data-code-line-numbers="2|3|5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>plots <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(</span>
<span id="cb66-2"><a href="#cb66-2"></a>  <span class="fu">names</span>(dplyr<span class="sc">::</span><span class="fu">select</span>(midwest, <span class="fu">where</span>(is.numeric))),</span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="sc">~</span><span class="fu">plot_density</span>(<span class="at">data =</span> midwest, <span class="at">var =</span> .x)</span>
<span id="cb66-4"><a href="#cb66-4"></a>)</span>
<span id="cb66-5"><a href="#cb66-5"></a>patchwork<span class="sc">::</span><span class="fu">wrap_plots</span>(plots)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/function-density-plot-midwest-1.png" width="4000" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="combine-plots" class="title-slide slide level1 center">
<h1>Combine Plots</h1>

</section>
<section id="combine-plots-with-patchwork" class="slide level2">
<h2>Combine Plots with {patchwork}</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67" data-code-line-numbers="1|3|5|7∂"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb67-2"><a href="#cb67-2"></a></span>
<span id="cb67-3"><a href="#cb67-3"></a>p1 <span class="ot">&lt;-</span> <span class="fu">plot_density</span>(<span class="at">data =</span> bikes, <span class="at">var =</span> <span class="st">"count"</span>, <span class="at">grp =</span> <span class="st">"day_night"</span>)</span>
<span id="cb67-4"><a href="#cb67-4"></a></span>
<span id="cb67-5"><a href="#cb67-5"></a>p2 <span class="ot">&lt;-</span> <span class="fu">plot_density</span>(<span class="at">data =</span> bikes, <span class="at">var =</span> <span class="st">"humidity"</span>, <span class="at">grp =</span> <span class="st">"day_night"</span>)</span>
<span id="cb67-6"><a href="#cb67-6"></a></span>
<span id="cb67-7"><a href="#cb67-7"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(bikes, <span class="fu">aes</span>(<span class="at">x =</span> humidity, <span class="at">y =</span> count)) <span class="sc">+</span> <span class="fu">geom_scatterfit</span>(<span class="at">pointalpha =</span> .<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="combine-plots-with-patchwork-1" class="slide level2">
<h2>Combine Plots with {patchwork}</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> p3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/patchwork-example-1-1.png" width="2400" class="r-stretch quarto-figure-center"></section>
<section id="combine-plots-with-patchwork-2" class="slide level2">
<h2>Combine Plots with {patchwork}</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/patchwork-example-2-1.png" width="2400" class="r-stretch quarto-figure-center"></section>
<section id="combine-plots-with-patchwork-3" class="slide level2">
<h2>Combine Plots with {patchwork}</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">guides =</span> <span class="st">"collect"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/patchwork-example-3-1.png" width="2400" class="r-stretch quarto-figure-center"></section>
<section id="combine-plots-with-patchwork-4" class="slide level2">
<h2>Combine Plots with {patchwork}</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">guides =</span> <span class="st">"collect"</span>) <span class="sc">+</span></span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="fu">plot_annotation</span>(<span class="at">theme =</span> <span class="fu">theme</span>(<span class="at">legend.justification =</span> <span class="st">"top"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/patchwork-example-4-1.png" width="2400" class="r-stretch quarto-figure-center"></section>
<section id="combine-plots-with-patchwork-5" class="slide level2">
<h2>Combine Plots with {patchwork}</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>(p1 <span class="sc">+</span> p2) <span class="sc">/</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">guides =</span> <span class="st">"collect"</span>) <span class="sc">+</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>  <span class="fu">plot_annotation</span>(<span class="at">tag_levels =</span> <span class="st">"A"</span>, <span class="at">tag_suffix =</span> <span class="st">"."</span>, <span class="at">theme =</span> <span class="fu">theme</span>(<span class="at">legend.justification =</span> <span class="st">"top"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="01-fundamentals_files/figure-revealjs/patchwork-example-5-1.png" width="2400" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="exciting-extension-packages" class="title-slide slide level1 center">
<h1>Exciting Extension Packages</h1>

</section>
<section id="layers" class="slide level2">
<h2>Layers</h2>
<ul>
<li><a href="https://hafen.github.io/geofacet/"><strong><code>{geofacet}</code></strong></a> — tile grid maps</li>
<li><a href="https://github.com/hrbrmstr/ggalt"><strong><code>{ggalluvial}</code></strong></a> — alluvial plots</li>
<li><a href="https://github.com/hrbrmstr/ggalt"><strong><code>{ggalt}</code></strong></a> — dumbbell, horizon, and lollipop charts, splines, …</li>
<li><a href="https://github.com/hrbrmstr/ggalt"><strong><code>{ggbeeswarm}</code></strong></a> — beeswarm plots and variants</li>
<li><a href="https://nsgrantham.github.io/ggbraid/"><strong><code>{ggbraid}</code></strong></a> — ribbons for alternating groups</li>
<li><a href="https://github.com/davidsjoberg/ggbump"><strong><code>{ggbump}</code></strong></a> — parallel sets, pie charts, geometries, splines, voronoi, …</li>
<li><a href="https://jamesotto852.github.io/ggdensity/"><strong><code>{ggdensity}</code></strong></a> — improved density plots</li>
<li><a href="https://github.com/davidsjoberg/ggbump"><strong><code>{ggdist}</code></strong></a> — uncertainty visualizations</li>
<li><a href="https://ggforce.data-imaginist.com/"><strong><code>{ggforce}</code></strong></a> — several interesting layers (and more)</li>
<li><a href="https://github.com/coolbutuseless/ggpattern"><strong><code>{ggpattern}</code></strong></a> — pattern fills for layers</li>
</ul>
</section>
<section id="layers-continued" class="slide level2">
<h2>Layers (continued)</h2>
<ul>
<li><a href="https://github.com/LKremer/ggpointdensity"><strong><code>{ggpointdensity}</code></strong></a> — density gradients for scatter plots</li>
<li><a href="https://github.com/thomasp85/ggraph"><strong><code>{ggraph}</code></strong></a> — networks, graphs &amp; trees</li>
<li><a href="https://github.com/clauswilke/ggridges"><strong><code>{ggridges}</code></strong></a> — ridgeline plots</li>
<li><a href="https://github.com/davidsjoberg/ggsankey"><strong><code>{ggsankey}</code></strong></a> — sankey diagrams</li>
<li><a href="https://const-ae.github.io/ggsignif/"><strong><code>{ggsignif}</code></strong></a> — significance levels</li>
<li><a href="https://github.com/xiangpin/ggstar"><strong><code>{ggstar}</code></strong></a> — more point shapes</li>
<li><a href="https://github.com/davidsjoberg/ggstream"><strong><code>{ggstream}</code></strong></a> — stream graphs</li>
<li><a href="https://github.com/const-ae/ggupset"><strong><code>{ggupset}</code></strong></a> — upset graphs</li>
<li><a href="https://wilkox.org/treemapify/"><strong><code>{treemapify}</code></strong></a> — treemaps</li>
</ul>
</section>
<section id="utilities" class="slide level2">
<h2>Utilities</h2>
<ul>
<li><a href="https://cran.r-project.org/web/packages/cowplot/vignettes/introduction.html"><strong><code>{cowplot}</code></strong></a> — combine ggplots</li>
<li><a href="https://github.com/MattCowgill/ggannotate"><strong><code>{ggannotate}</code></strong></a> — point-n-click annotations</li>
<li><a href="https://mjskay.github.io/ggblend/"><strong><code>{ggblend}</code></strong></a> — blend, compose, adjust layers</li>
<li><a href="https://wilkox.org/ggfittext/"><strong><code>{ggfittext}</code></strong></a> — scale text according to space</li>
<li><a href="https://ggfx.data-imaginist.com/"><strong><code>{ggfx}</code></strong></a> — shaders and filters for layers</li>
<li><a href="https://teunbrand.github.io/ggh4x/"><strong><code>{ggh4x}</code></strong></a> — facets, positions, and more</li>
<li><a href="https://github.com/thomasp85/patchwork#patchwork"><strong><code>{ggtext}</code></strong></a> — text rendering for theme elements + text layers</li>
<li><a href="https://github.com/stefanedwards/lemon"><strong><code>{lemon}</code></strong></a> — axis lines (and a few layers)</li>
<li><a href="https://github.com/thomasp85/patchwork#patchwork"><strong><code>{patchwork}</code></strong></a> — combine ggplots</li>
<li><a href="https://scales.r-lib.org/"><strong><code>{scales}</code></strong></a> — control scales</li>
</ul>
</section>
<section id="themes" class="slide level2">
<h2>Themes</h2>
<ul>
<li><a href="https://github.com/nsgrantham/ggdark"><strong><code>{ggdark}</code></strong></a></li>
<li><a href="https://github.com/jrnold/ggthemes"><strong><code>{ggsci}</code></strong></a> (also color scales)</li>
<li><a href="https://github.com/ricardo-bion/ggtech"><strong><code>{ggtech}</code></strong></a> (also color scales)</li>
<li><a href="https://github.com/jrnold/ggthemes"><strong><code>{ggthemes}</code></strong></a> (also color scales)</li>
<li><a href="https://github.com/Mikata-Project/ggthemr"><strong><code>{ggthemr}</code></strong></a></li>
<li><a href="https://github.com/hrbrmstr/hrbrthemes"><strong><code>{hrbrthemes}</code></strong></a> (also color scales)</li>
<li><a href="https://ryo-n7.github.io/tvthemes/"><strong><code>{tvthemes}</code></strong></a> (also color scales)</li>
</ul>
</section>
<section id="color-palettes" class="slide level2">
<h2>Color Palettes</h2>
<ul>
<li><a href="https://cran.r-project.org/web/packages/colorspace/vignettes/colorspace.html"><strong><code>{colorspace}</code></strong></a></li>
<li><a href="https://jaredhuling.org/jcolors/"><strong><code>{jcolors}</code></strong></a></li>
<li><a href="https://github.com/BlakeRMills/MetBrewer"><strong><code>{MetBrewer}</code></strong></a></li>
<li><a href="https://cran.r-project.org/web/packages/nord/readme/README.html"><strong><code>{nord}</code></strong></a></li>
<li><a href="https://jakubnowosad.com/rcartocolor/"><strong><code>{rcartocolor}</code></strong></a></li>
<li><a href="https://cran.r-project.org/web/packages/RColorBrewer/index.html"><strong><code>{RColorBrewer}</code></strong></a></li>
<li><a href="https://github.com/thomasp85/scico"><strong><code>{scico}</code></strong></a></li>
<li><a href="https://github.com/hneth/unikn"><strong><code>{unikn}</code></strong></a></li>
<li><a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html"><strong><code>{viridis}</code></strong></a></li>
<li><a href="https://github.com/karthik/wesanderson"><strong><code>{wesanderson}</code></strong></a></li>
</ul>
</section>
<section id="interactive-charts" class="slide level2">
<h2>Interactive Charts</h2>
<ul>
<li><a href="https://davidgohel.github.io/ggiraph/"><strong><code>{ggiraph}</code></strong></a></li>
<li><a href="https://plotly.com/r/"><strong><code>{plotly}</code></strong></a></li>
<li><a href="https://echarts4r.john-coene.com/"><strong><code>{echarts4r}</code></strong></a>*</li>
<li><a href="https://jkunst.com/highcharter/"><strong><code>{highcharter}</code></strong></a>*</li>
<li><a href="https://github.com/JohnCoene/charter"><strong><code>{charter}</code></strong></a>*</li>
<li><a href="https://hrbrmstr.github.io/streamgraph/"><strong><code>{streamgraph}</code></strong></a>*</li>
<li><a href="https://cran.r-project.org/web/packages/tmap/vignettes/tmap-getstarted.html"><strong><code>{tmap}</code></strong></a>*</li>
<li><a href="https://rstudio.github.io/leaflet/"><strong><code>{leaflet}</code></strong></a>*</li>
<li><a href="https://globe4r.john-coene.com/"><strong><code>{globe4r}</code></strong></a>*</li>
<li><a href="https://grapher.network/"><strong><code>{grapher}</code></strong></a>*</li>
</ul>
<p><span style="font-size:.9em;">* not using <code>ggplot2</code></span></p>
</section>
<section id="recap" class="slide level2">
<h2><b style="color:#663399;">Recap</b></h2>
<div class="recap">
<ul>
<li>a basic ggplot is build by specifying three components:<br><code>data</code>, <code>aes</code>thetics and a <code>layer</code> (usually a <code>geom_*</code> or <code>stat_*</code>)</li>
<li><em>aesthetic mappings</em> define how variables map to visual properties</li>
<li>the default appearance of all other components can be modified via <code>scale_*</code>, <code>coord_*</code>, <code>facet_*</code> and <code>theme_*</code> / <code>theme</code></li>
<li>use the devices cairo (pdf) and agg (png, jpg, tiff) when saving plots</li>
<li>find a suitable plot size by setting figure chunk options in qmd/rmd files or with the help of the <code>{camcorder}</code> package</li>
<li>define conditional components, custom layers and functions to generate plots more efficiently and to iterate over multiple inputs</li>
<li>combine multiple plot outputs with <code>{patchwork}</code></li>
</ul>
</div>
</section></section>
<section>
<section id="exercises" class="title-slide slide level1 center">
<h1>Exercises</h1>

</section>
<section id="exercise-1" class="slide level2">
<h2>Exercise 1</h2>
<div class="question">
<ul>
<li><strong>Discuss / investigate with your neighbor:</strong>
<ul>
<li>What are the differences between <code>geom_line()</code> and <code>geom_path()</code>?</li>
<li>Why can you use <code>geom_smooth()</code> and <code>stat_smooth()</code> interchangeably?</li>
<li>What are the three ways to <em>remove a legend</em> from a ggplot?</li>
</ul></li>
</ul>
</div>
</section>
<section id="exercise-2" class="slide level2">
<h2>Exercise 2</h2>
<div class="question">
<ul>
<li><strong>Explore the TfL bike share data visually:</strong>
<ul>
<li>Create a <em>time series</em> of counts per day and night.</li>
<li>Draw <em>box and whisker plots</em> of average temperatures per month.</li>
<li>Visualize bike counts per weather type and period as <em>bar chart</em>.</li>
</ul></li>
<li><strong>Combine the three plots with {patchwork}.</strong></li>
<li><strong>Export the final graphic in a format of your choice.</strong></li>
</ul>
</div>
</section>
<section id="section-1" class="slide level2" data-background-image="img/exercise-what-now.png" data-background-position="center" data-background-size="75%">
<h2></h2>


<img src="img/logo.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://cedricscherer.com">Cédric Scherer</a> // posit::conf(2023)</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard","boardmarkerWidth":4},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>